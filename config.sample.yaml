paths:
  archive: "out/archive"
  download: "out/downloads"
  logs: "out/logs"
  tmp: "out/tmp"
  hashdb_file: "out/hashdb.jsonl"
  removed_log_file: "out/removed.jsonl"

download:
  # Template variables are documented in README (e.g., {origin_group}/{yearmonth}...).
  filename_pattern: "{origin_group}/{yearmonth}/{screenname}-{datetime}-{index}.{ext}"
  progress: filesize  # off / count / filesize
  includes:
    gifv: false           # include animated GIFV clips
    video: false          # include video attachments
    audio: false          # include audio files
    thumbnail_only: false # download entries with only thumbnails
    self: false           # include posts authored by yourself
    nsfw: true            # include NSFW/sensitive posts
    try_unknown: false    # treat unknown media as images when extensions match
  rate:
    default_rate: "2/minute"  # accepts rates ("4/minute") or durations ("10 seconds")
    burst_allowed: false      # true allows clumped bursts; false enforces spacing
  retry:
    max_attempts: 3
    delay: "10 seconds"
    rate_control: true  # true enforces download.rate delay between retries

archive:
  enabled: true
  policy: keep_old  # keep_old / latest / database (see README)
  log_duplicates: true

logging:
  frequency: month
  filename_pattern: "{origin_group}/{yearmonth}.jsonl"
  log_removed: true
  log_duplicate: true

removed:
  # Skip media URLs that returned 404 for this duration.
  # Set to "off" to retry every run.
  skip_media_not_found: "1 week"

runtime:
  dry_run: false
  limit: 20
  unbookmark: true  # true removes the bookmark after successful download

instances:
  - name: mastodon-example
    base_url: https://mastodon.example
    access_token: "YOUR_ACCESS_TOKEN"
    account_id: "12345"
    account_handle: "user"

  - name: misskey-example
    base_url: https://misskey.example
    access_token: "YOUR_ACCESS_TOKEN"
    account_handle: "username@mastodon.social"
    unbookmark: false  # override per-instance unbookmark behavior
    rate: "4/minute"   # per-instance rate limit (posts/minute)
